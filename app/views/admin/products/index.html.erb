<% provide(:title, 'Products') %>
<div class="container-fluid">
  <div class="row">
    <%# --Sidebar %>
    <%= render partial:'admin/home/side_bar' %>
    <%# --Sidebar %>

    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
      
        <h1 class="h2">Products</h1>
        <div class= 'd-flex'>
          <%= search_form_for @q ,url: admin_products_path, class: "" do |f| %>
            <%= f.search_field :category_name_cont, class:"form-control rounded-2 border-1", placeholder:"Search...", aria_label:"Search"  %> 
          <% end %> 
          <%= link_to 'Add Product',new_admin_product_path, class:'btn btn-dark ms-1' %>
        </div>
      </div>

      <div class="table-responsive">
        <table class="table table-striped table-sm">
          <thead>
            <tr>
              <th scope="col"><%= sort_link(@q, :id, default_order: :asc) do %>
              <strong>ID</strong>
              <%end %>
              </th>
              <th scope="col">Image</th>
              <th scope="col"><%= sort_link(@q, :name, default_order: :asc) %></th>
              <th scope="col"><%= sort_link(@q, :price, default_order: :asc) %></th>
              <th scope="col"><%= sort_link(@q, :description, default_order: :asc) %></th>
              <th scope="col"><%= sort_link(@q, :category_name, default_order: :asc) do %>
              <strong>Categories</strong>
              <% end%> </th>
              <th scope="col">Delete</th>
              <th scope="col">Update</th>
            </tr>
          </thead>

          <%#  --Main %>
          <%= render partial:'admin/products/product', collection: @products %>

          <%#  --Main %>
        </table>
        <%= paginate @products, window: 3 %>

      </div>
    </main>

  </div>
</div>